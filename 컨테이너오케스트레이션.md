# 컨테이너 오케스트레이션 (도커 스웜)


도커 컴퍼즈 로 실행한 컨테이너들을 각 서버에 분산 시키고 싶다.. 





이럴 때 어떻게해야할까 직접  

하나하나 서버마다 돌면서  환경변수를 설정하고 빌드하고 런 하고 네트워크 설정해주고 소스코드 다운받고 컨테이너를 띄워야 할까 

하는 무서운 생각을 했다. (해도 일회성이잖아? )



미친짓 ;;;



뭐 찾아보니까 컨테이너를 관리하는 방식을 오케스트레이션 이라고 하는것 같은데

쿠버네티스랑  스웜  이 대표적인것 같다

솔직히 예전부터 쿠버네티스 공부하고싶었는데 

인터넷 글 뒤적거리면서 보니까 초보자가 하기엔 개념이 장난아닌것 같다.



도커 스웜으로 선택했다.



솔직히 이것 저것 많은데 다른건 다 재껴두고 

선택한 이유가 쉽고 설치할 필요가 없다고 해서 선택했다.

어느 버전인지 기억은 안나는데 docker 내장 기능으로 들어갔다고 한다.

내가 생각하기에 스웜에 가장 큰 장점은 Docker명령어와 Compose를 그대로 사용가능 

하다는 부분이다.



뭐 솔직히 글 본건 진짜 오래 되는데 머릿속에 기억 남는 것 만 정리해 보자면

1)  매니저 노드를 할 공간에서 docker swarm  init을 생성한다 key 값이 튀어나온다

2) 워커 노드를 할 공간에서 docker swarm join 을 한다.

3) docker-compose 파일에서 docker stack deploy docker-compose.yml stak_name 을 한다.



그러면 도커 컴퍼즈에 작성되어있는 컨테이너들이 알아서 워커노드에 쇼쇼쇼쇼쇼쇼쇽 들어가지는 것 같다. 

이것도 설정방식에 개념이 좀 있는것 같은데 

아까 슬쩍 보니까 노드에 컨테이너 갯수를 중요시 하거나 메모리 공간을 맞춰서 할당해주는 것 같다(정확하지 않음)

뭐 아무튼 이런식으로 하면 컨테이너가 분리된다 다수에 개발환경에 



솔직히 진짜 맛보기중에 맛보기다.

개념이 너무 방대해서 건드리기 쉽지않다. 시간 날 때 마다 공부좀 해야할듯;;;
